# Spec: 参数扫描找最优

> 所有命令在沙箱外运行。

## 上下文

在 `q1-strategy.ipynb` 中已有：
- 沪深300ETF 日线数据（变量 `df`）
- 简单定投回测结果（`result_dca`）
- 带均线条件的回测函数 `backtest_dca_with_ma`（可传入 `ma_period` 参数）

## 任务

扫描所有均线参数（MA5 到 MA120），找到历史收益率最高的「最优参数」并可视化。

## 要求

1. 在 notebook 中新建代码单元格
2. 扫描范围：MA5 到 MA120，步长为 5（共 24 个参数）
3. 对每个参数调用已有的均线回测函数，记录最终收益率
4. 找出收益率最高的参数和对应收益率

## 结果呈现

1. 打印：最优参数、最优收益率
2. 打印：简单定投收益率作为对照、收益提升幅度
3. 画一张柱状图（figsize 12×5）：
   - X轴：均线周期（天），Y轴：收益率
   - 正收益的柱子绿色，负收益的柱子红色
   - 最优参数的柱子用金色高亮、黑色边框
   - 灰色虚线标注简单定投的收益率水平
   - 黑色实线标注零线
   - 图例标注最优参数编号
